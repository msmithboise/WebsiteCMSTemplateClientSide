<div *ngFor="let preset of this.dashboardPresetService.dashboardPresetArray">
  <div
    class="container-fluid"
    [ngStyle]="{ backgroundColor: preset.colorThree }"
  >
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="utf-8" />
        <meta
          name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />
        <meta name="description" content="" />
        <meta
          name="author"
          content="Mark Otto, Jacob Thornton, and Bootstrap contributors"
        />
        <meta name="generator" content="Jekyll v4.1.1" />
        <title>Dashboard Template Â· Bootstrap</title>

        <link
          rel="canonical"
          href="https://getbootstrap.com/docs/4.5/examples/dashboard/"
        />

        <!-- Custom styles for this template -->
      </head>
      <app-dashboard-sidebar
        [colorFive]="preset.colorFive"
        [colorSix]="preset.colorSix"
        [colorFour]="preset.colorFour"
      ></app-dashboard-sidebar>

      <body>
        <div
          class="container-fluid"
          [ngStyle]="{
            height: 'fit-content',
            backgroundColor: preset.colorThree
          }"
        >
          <div class="row">
            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
              <div
                class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
              >
                <h1
                  class="h2"
                  [ngStyle]="{
                    color: preset.colorFive,
                    fontFamily: 'Montserrat'
                  }"
                >
                  Dashboard: {{ this.pageDescription }}
                </h1>

                <!-- <h1>Get Requests: {{ this.webStructureService.getRequests }}</h1> -->

                <button
                  [ngStyle]="{
                    borderColor: preset.colorSeven,
                    color: preset.colorEight,

                    fontFamily: 'Montserrat',
                    float: 'left'
                  }"
                  type="button"
                  class="btn btn-sm btn-outline-secondary text-button"
                  (click)="createTemplateDialogue()"
                >
                  <svg
                    width="1em"
                    height="1em"
                    viewBox="0 0 16 16"
                    class="bi bi-plus-square"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"
                    />
                    <path
                      fill-rule="evenodd"
                      d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"
                    />
                  </svg>
                  Default Template
                </button>

                <!-- Add Row Button -->

                <button
                  [ngStyle]="{
                    borderColor: preset.colorSeven,
                    color: preset.colorEight,
                    float: 'left',
                    fontFamily: 'Montserrat'
                  }"
                  type="button"
                  class="btn btn-sm btn-outline-secondary text-button"
                  (click)="addRow()"
                >
                  <svg
                    width="1em"
                    height="1em"
                    viewBox="0 0 16 16"
                    class="bi bi-plus-square"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"
                    />
                    <path
                      fill-rule="evenodd"
                      d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"
                    />
                  </svg>
                  Add Row
                </button>

                <div>
                  <!-- <h1
                  [ngStyle]="{
                    backgroundColor: preset.colorOne,
                    color: preset.colorTwo,
                    fontSize: '50px'
                  }"
                >
                  COLOR TEST
                </h1> -->
                  <form #form="ngForm">
                    <div class="colors">
                      <input
                        type="hidden"
                        #Id="ngModel"
                        name="presetId"
                        [(ngModel)]="preset.presetId"
                      /><br /><br />

                      <!-- Container -->
                      <label
                        [ngStyle]="{
                          fontFamily: 'Montserrat',
                          color: preset.colorFive
                        }"
                        >Background
                      </label>
                      <input
                        type="color"
                        #Id="ngModel"
                        name="colorThree"
                        [(ngModel)]="preset.colorThree"
                      /><br /><br />
                      <!-- Row -->
                      <label
                        [ngStyle]="{
                          fontFamily: 'Montserrat',
                          color: preset.colorFive
                        }"
                        >Rows
                      </label>
                      <input
                        type="color"
                        #Id="ngModel"
                        name="colorOne"
                        [(ngModel)]="preset.colorOne"
                      /><br /><br />

                      <!-- Column -->
                      <label
                        [ngStyle]="{
                          fontFamily: 'Montserrat',
                          color: preset.colorFive
                        }"
                        >Columns
                      </label>
                      <input
                        type="color"
                        #Id="ngModel"
                        name="colorTwo"
                        [(ngModel)]="preset.colorTwo"
                      /><br /><br />

                      <!-- sidebar -->
                      <label
                        [ngStyle]="{
                          fontFamily: 'Montserrat',
                          color: preset.colorFive
                        }"
                        >Sidebar
                      </label>
                      <input
                        type="color"
                        #Id="ngModel"
                        name="colorFour"
                        [(ngModel)]="preset.colorFour"
                      /><br /><br />

                      <!-- Header text -->
                      <label
                        [ngStyle]="{
                          fontFamily: 'Montserrat',
                          color: preset.colorFive
                        }"
                        >Text 1
                      </label>
                      <input
                        type="color"
                        #Id="ngModel"
                        name="colorFive"
                        [(ngModel)]="preset.colorFive"
                      /><br /><br />

                      <!-- Normal Text -->
                      <label
                        [ngStyle]="{
                          fontFamily: 'Montserrat',
                          color: preset.colorFive
                        }"
                        >Text 2
                      </label>
                      <input
                        type="color"
                        #Id="ngModel"
                        name="colorSix"
                        [(ngModel)]="preset.colorSix"
                      /><br /><br />
                      <!-- Button Text Color -->
                      <label
                        [ngStyle]="{
                          fontFamily: 'Montserrat',
                          color: preset.colorFive
                        }"
                        >Text 3
                      </label>
                      <input
                        type="color"
                        #Id="ngModel"
                        name="colorEight"
                        [(ngModel)]="preset.colorEight"
                      /><br /><br />

                      <!-- Button Color -->
                      <label
                        [ngStyle]="{
                          fontFamily: 'Montserrat',
                          color: preset.colorFive
                        }"
                        >Buttons
                      </label>
                      <input
                        type="color"
                        #Id="ngModel"
                        name="colorSeven"
                        [(ngModel)]="preset.colorSeven"
                      /><br /><br />
                    </div>

                    <!-- Light Mode -->
                    <button
                      [ngStyle]="{
                        borderColor: preset.colorSeven,
                        color: preset.colorEight,
                        float: 'left',
                        fontFamily: 'Montserrat'
                      }"
                      type="button"
                      class="btn btn-sm btn-outline-secondary text-button"
                      (click)="lightMode(form)"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="bi bi-brightness-high"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"
                        />
                      </svg>
                      Light Mode
                    </button>

                    <!-- dark Mode -->
                    <button
                      [ngStyle]="{
                        borderColor: preset.colorSeven,
                        color: preset.colorEight,
                        float: 'left',
                        fontFamily: 'Montserrat'
                      }"
                      type="button"
                      class="btn btn-sm btn-outline-secondary text-button"
                      (click)="darkMode(form)"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="bi bi-moon-stars"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"
                        />
                        <path
                          d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"
                        />
                      </svg>
                      Dark Mode
                    </button>

                    <button
                      [ngStyle]="{
                        fontFamily: 'Montserrat',
                        float: 'center'
                      }"
                      class="btn btn-primary"
                      (click)="onPresetSubmit(form)"
                    >
                      Submit
                    </button>
                  </form>
                </div>

                <div class="btn-toolbar mb-2 mb-md-0">
                  <div class="btn-group mr-2">
                    <!-- Add Link Button trigger modal -->

                    <!--Link Modal -->
                    <div
                      class="modal fade"
                      id="linkModal"
                      tabindex="-1"
                      role="dialog"
                      aria-labelledby="linkModalLabel"
                      aria-hidden="true"
                    >
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="linkModalLabel">
                              Link
                            </h5>
                            <button
                              type="button"
                              class="close"
                              data-dismiss="modal"
                              aria-label="Close"
                            >
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                            <!-- Link body input form -->

                            <!-- Textbody = description, (or imageUrl, or icon(socialMediaLink)) HyperLink = value -->
                            <!-- SocialMediaLink can be the icon -->
                            <div class="card">
                              <div class="card-body">
                                <div class="row">
                                  <form
                                    [formGroup]="linkFormTemplate"
                                    class="form-inline formStyle"
                                    (submit)="
                                      submitNewLinkData(linkFormTemplate.value)
                                    "
                                  >
                                    <h1>Link</h1>

                                    <!-- HyperLink -->
                                    <div>
                                      <input
                                        name="HyperLink"
                                        class="form-control-lg form-group"
                                        placeholder="Add link here"
                                        type="text"
                                        formControlName="HyperLink"
                                      />

                                      <input
                                        type="hidden"
                                        name="PageId"
                                        formControlName="pageId"
                                      />

                                      <input
                                        type="hidden"
                                        name="Id"
                                        formControlName="Id"
                                      />

                                      <!-- Sub Page Id -->
                                      <!-- <input
                                      type="hidden"
                                      name="SubPageId"
                                      formControlName="subPageId"
                                    /> -->
                                    </div>
                                  </form>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer">
                            <button
                              type="button"
                              class="btn btn-secondary"
                              data-dismiss="modal"
                            >
                              Close
                            </button>
                            <button
                              type="button"
                              (click)="
                                submitNewLinkData(linkFormTemplate.value)
                              "
                              class="btn btn-primary"
                              data-dismiss="modal"
                            >
                              Save changes
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Existing content display forms -->
              <div
                *ngFor="let row of this.webStructureService.rowsByPageIdArray"
              >
                <div
                  *ngFor="
                    let preset of this.dashboardPresetService
                      .dashboardPresetArray
                  "
                >
                  <!-- <h1 style="color: red">RowId: {{ row.RowId }}</h1> -->
                  <!-- For all the rows that are tied to this page id... -->
                  <app-row
                    [colorEight]="preset.colorEight"
                    [colorSeven]="preset.colorSeven"
                    [colorSix]="preset.colorSix"
                    [colorFive]="preset.colorFive"
                    [colorTwo]="preset.colorTwo"
                    [colorOne]="preset.colorOne"
                    (refreshEvent)="refresh()"
                    [rowId]="row.RowId"
                  ></app-row>
                </div>
              </div>
              <!-- Add Row Button -->

              <button
                type="button"
                class="btn btn-sm btn-outline-secondary text-button"
                (click)="addRow()"
              >
                <svg
                  width="1em"
                  height="1em"
                  viewBox="0 0 16 16"
                  class="bi bi-plus-square"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"
                  />
                </svg>
                Add Row
              </button>
            </main>
          </div>
        </div>
        <script
          src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
          integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
          crossorigin="anonymous"
        ></script>
        <script>
          window.jQuery ||
            document.write(
              '<script src="../assets/js/vendor/jquery.slim.min.js"><\/script>'
            );
        </script>
        <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
        <script src="dashboard.js"></script>
      </body>
    </html>

    <!-- <button class="btn btn-success btn-sm mb-3" (click)="openPageSettings()">
    Page Settings
  </button> -->
  </div>
</div>
